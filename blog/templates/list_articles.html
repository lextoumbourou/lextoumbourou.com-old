{% extends "base.html" %}

<!-- Begin Blog List -->
{% block content %}
	<!-- Begin Article -->
	{% for post in posts.object_list %}
		<div class="article">
			<h2 class="title">{{ post.title }}</h2>
			<div class="date">{{ post.created }}</div>
			<div class="body">{{ post.body|linebreaks }}</div>
			<div class="tags">
					<strong>Tags:</strong>
					{% for tag in post.tags.all %}
						{% if forloop.first %}
							<a href="/filter/tag/{{ tag }}">{{ tag }}</a>
						{% else %}
							| <a href="/filter/tag/{{ tag }}">{{ tag }}</a>  
						{% endif %}
					{% endfor %}
			</div><br />
			<div class="commentlink"><a href="{% url blog.views.post post.pk %}">{{ post.comment_set.count }} Comment(s)</a></div>
		</div>
	{% endfor %} 
	<!-- End Article -->

	<!-- Next/Prev page links -->
	{% if posts.object_list and posts.paginator.num_pages > 1 %}
		<div class="pagination" style="margin-top: 20px; margin-left: -20px; ">
			<span class="step-links">
				{% if posts.has_previous %}
					<a href="?page={{ posts.previous_page_number }}">new entries &lt;&lt; </a>
				{% endif %}
			</span>

			<span class="current">
				&nbsp;Page {{ posts.number }} of {{ posts.paginator.num_pages }}
			</span>

			{% if posts.has_next %}
			<a href="?page={{ posts.next_page.number }}"> &gt;&gt; older entries</a>
			{% endif %}
		</div>
	{% endif %}
{% endblock %}
<!-- End Blog List -->


